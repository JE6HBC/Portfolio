<!DOCTYPE html>
<html lang="ja" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yuki Koyama / Forethumb LLC - Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700;900&family=Roboto:wght@700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #111827;
            color: #E5E7EB;
        }
        h1, h2, h3, h4, .font-roboto {
            font-family: 'Roboto', sans-serif;
        }
        .gradient-text {
            background: linear-gradient(45deg, #38bdf8, #a78bfa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .section {
            padding: 6rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
            min-height: 56.25vw; /* 16:9 aspect ratio */
            max-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 1rem;
            transition: all 0.3s ease;
        }
        .glass-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.1);
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .timeline-item {
            position: relative;
            padding-left: 2.5rem;
            padding-bottom: 2rem;
            border-left: 2px solid #4B5563;
        }
        .timeline-item:last-child {
            border-left: 2px solid transparent;
        }
        .timeline-dot {
            position: absolute;
            left: -0.5rem;
            top: 0;
            width: 1rem;
            height: 1rem;
            border-radius: 50%;
            background-color: #38bdf8;
            border: 2px solid #111827;
        }
        .tag {
            display: inline-block;
            background-color: #374151;
            color: #d1d5db;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            margin-right: 0.5rem;
            margin-top: 0.5rem;
        }

        /* ゲーム関連スタイル */
        .game-container {
            position: relative;
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border-radius: 1rem;
            overflow: hidden;
            border: 2px solid #334155;
        }
        
        .circuit-board {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.1;
            background-image: 
                radial-gradient(circle at 20% 50%, #38bdf8 2px, transparent 2px),
                radial-gradient(circle at 40% 20%, #a78bfa 1px, transparent 1px),
                radial-gradient(circle at 80% 80%, #38bdf8 1px, transparent 1px),
                linear-gradient(90deg, transparent 49%, #334155 50%, transparent 51%),
                linear-gradient(0deg, transparent 49%, #334155 50%, transparent 51%);
            background-size: 50px 50px, 30px 30px, 40px 40px, 20px 20px, 20px 20px;
        }

        .signal-wave {
            position: absolute;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #38bdf8, transparent);
            animation: wave 2s linear infinite;
        }

        @keyframes wave {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .matrix-rain {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            opacity: 0.3;
        }

        .matrix-column {
            position: absolute;
            top: -100%;
            color: #38bdf8;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            animation: matrix-fall linear infinite;
        }

        @keyframes matrix-fall {
            to { transform: translateY(100vh); }
        }

        .interactive-button {
            background: linear-gradient(45deg, #1e40af, #7c3aed);
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .interactive-button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 20px rgba(56, 189, 248, 0.5);
        }

        .interactive-button:active {
            transform: scale(0.95);
        }

        .pulse-ring {
            position: absolute;
            border: 2px solid #38bdf8;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(0.8);
                opacity: 1;
            }
            100% {
                transform: scale(2.4);
                opacity: 0;
            }
        }

        .floating-particles {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #38bdf8;
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        .video-frame {
            border: 3px solid #374151;
            border-radius: 8px;
            background: #000;
            position: relative;
            overflow: hidden;
        }

        .video-frame::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ef4444, #f59e0b, #10b981, #3b82f6);
            animation: scan 3s linear infinite;
        }

        @keyframes scan {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .glitch {
            position: relative;
            animation: glitch 2s infinite;
        }

        @keyframes glitch {
            0%, 100% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
        }
    </style>
</head>
<body class="antialiased">

    <!-- ヘッダー -->
    <header class="fixed w-full bg-gray-900/80 backdrop-blur-sm z-50 shadow-md">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <span class="font-bold text-xl gradient-text">Yuki Koyama</span>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#about" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">ABOUT</a>
                        <a href="#interactive" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">INTERACTIVE</a>
                        <a href="#works" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">WORKS</a>
                        <a href="#skills" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">SKILLS</a>
                        <a href="#contact" class="text-gray-300 hover:text-white px-3 py-2 rounded-md text-sm font-medium">CONTACT</a>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <!-- ヒーローセクション -->
        <section class="h-screen flex items-center justify-center text-center bg-grid-gray-700/[0.2] relative">
            <div class="matrix-rain" id="matrixRain"></div>
            <div class="px-4 relative z-10">
                <h1 class="text-5xl md:text-8xl font-black uppercase tracking-tighter">
                    <span class="gradient-text glitch">Bridging</span> <span class="text-white">Worlds</span>
                </h1>
                <p class="mt-4 text-lg md:text-2xl text-gray-300 max-w-3xl mx-auto">
                    技術とクリエイティブの境界を溶かし、アイデアを現実に。
                    <br>エンジニアリングとアートを越境し、前例のないプロジェクトを実現する。
                </p>
                <div class="mt-8 relative inline-block">
                    <div class="pulse-ring"></div>
                    <a href="#interactive" class="interactive-button">
                        <i class="fas fa-play mr-2"></i>Experience Interactive Demo
                    </a>
                </div>
            </div>
            <div class="floating-particles" style="top: 20%; left: 10%; animation-delay: 0s;"></div>
            <div class="floating-particles" style="top: 60%; right: 15%; animation-delay: 2s;"></div>
            <div class="floating-particles" style="top: 80%; left: 70%; animation-delay: 4s;"></div>
        </section>

        <!-- Aboutセクション -->
        <section id="about" class="section">
            <div class="text-center mb-12 fade-in">
                <h2 class="text-4xl font-bold text-white">ABOUT ME</h2>
                <p class="text-sky-400 font-roboto">小山 裕貴 / Forethumb LLC 代表</p>
            </div>
            <div class="flex flex-col md:flex-row items-center gap-12 fade-in">
                <div class="md:w-1/3 text-center">
                     <img src="https://placehold.co/300x300/1f2937/e5e7eb?text=Y.K" alt="小山裕貴のプロフィール写真" class="rounded-full mx-auto shadow-lg w-48 h-48 md:w-64 md:h-64 object-cover border-4 border-gray-700">
                </div>
                <div class="md:w-2/3">
                    <p class="text-lg text-gray-300 mb-4">
                        鹿児島に生まれ、NY留学や離島生活を経て多様な価値観を育む。筑波大学在学中にメディアアート研究、人工衛星開発、福祉用キーボード開発で技術の礎を築き、Forethumb LLCを起業。
                    </p>
                    <p class="text-lg text-gray-300">
                        ハードウェアエンジニアからキャリアを始め、テクニカルディレクター、カメラマン、経営者と、常に領域を越境。技術とクリエイティブ、理論と実践を繋ぐハブとして、複雑なプロジェクトを成功に導きます。
                    </p>
                </div>
            </div>
        </section>

        <!-- インタラクティブセクション -->
        <section id="interactive" class="section bg-gray-900">
            <div class="text-center mb-12 fade-in">
                <h2 class="text-4xl font-bold text-white">INTERACTIVE EXPERIENCE</h2>
                <p class="text-sky-400 font-roboto">映像技術 × エンジニアリング体験</p>
            </div>
            
            <div class="grid md:grid-cols-2 gap-8 mb-8">
                <!-- シグナル処理ゲーム -->
                <div class="game-container p-6 fade-in">
                    <div class="circuit-board"></div>
                    <h3 class="text-xl font-bold text-white mb-4 relative z-10">
                        <i class="fas fa-wave-square mr-2 text-sky-400"></i>Signal Processing Lab
                    </h3>
                    <div class="video-frame h-32 mb-4 relative">
                        <canvas id="signalCanvas" class="w-full h-full"></canvas>
                        <div class="signal-wave" style="top: 50%;"></div>
                    </div>
                    <div class="flex gap-2 mb-2">
                        <button class="interactive-button text-sm" onclick="changeWaveform('sine')">Sine</button>
                        <button class="interactive-button text-sm" onclick="changeWaveform('square')">Square</button>
                        <button class="interactive-button text-sm" onclick="changeWaveform('sawtooth')">Sawtooth</button>
                    </div>
                    <p class="text-gray-400 text-sm">放送技術で使用する信号波形をリアルタイム生成</p>
                </div>

                <!-- 回路設計シミュレーター -->
                <div class="game-container p-6 fade-in" style="transition-delay: 200ms;">
                    <div class="circuit-board"></div>
                    <h3 class="text-xl font-bold text-white mb-4 relative z-10">
                        <i class="fas fa-microchip mr-2 text-sky-400"></i>Circuit Designer
                    </h3>
                    <div class="video-frame h-32 mb-4 relative">
                        <canvas id="circuitCanvas" class="w-full h-full"></canvas>
                    </div>
                    <div class="flex gap-2 mb-2">
                        <button class="interactive-button text-sm" onclick="addComponent('resistor')">抵抗</button>
                        <button class="interactive-button text-sm" onclick="addComponent('capacitor')">コンデンサ</button>
                        <button class="interactive-button text-sm" onclick="clearCircuit()">クリア</button>
                    </div>
                    <p class="text-gray-400 text-sm">ハードウェア設計の基礎回路をインタラクティブに構築</p>
                </div>
            </div>

            <!-- 映像エフェクトプレイグラウンド -->
            <div class="game-container p-6 fade-in" style="transition-delay: 400ms;">
                <div class="circuit-board"></div>
                <h3 class="text-xl font-bold text-white mb-4 relative z-10">
                    <i class="fas fa-video mr-2 text-sky-400"></i>Visual Effects Playground
                </h3>
                <div class="video-frame h-48 mb-4 relative">
                    <canvas id="effectsCanvas" class="w-full h-full"></canvas>
                </div>
                <div class="flex flex-wrap gap-2 mb-4">
                    <button class="interactive-button text-sm" onclick="applyEffect('glitch')">Glitch</button>
                    <button class="interactive-button text-sm" onclick="applyEffect('chromatic')">Chromatic</button>
                    <button class="interactive-button text-sm" onclick="applyEffect('noise')">Noise</button>
                    <button class="interactive-button text-sm" onclick="applyEffect('scan')">Scan Lines</button>
                    <button class="interactive-button text-sm" onclick="resetEffects()">Reset</button>
                </div>
                <div class="flex items-center gap-4">
                    <label class="text-gray-400 text-sm">Intensity:</label>
                    <input type="range" id="effectIntensity" min="0" max="100" value="50" class="flex-1" onchange="updateEffectIntensity(this.value)">
                    <span id="intensityValue" class="text-sky-400 text-sm">50%</span>
                </div>
                <p class="text-gray-400 text-sm mt-2">映像制作で使用するリアルタイムエフェクトを体験</p>
            </div>
        </section>

        <!-- Value Propositionセクション -->
        <section class="section">
             <div class="text-center mb-12 fade-in">
                <h2 class="text-4xl font-bold text-white">OUR VALUE</h2>
                <p class="text-sky-400 font-roboto">ワンストップで実現する実装力</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="glass-card p-8 text-center fade-in">
                    <i class="fas fa-laptop-code text-5xl gradient-text mb-4"></i>
                    <h3 class="text-2xl font-bold text-white mb-2">技術と表現の融合</h3>
                    <p class="text-gray-400">エンジニアリングとクリエイティブ、両言語を深く理解し、ポテンシャルを最大化する企画を立案します。</p>
                </div>
                <div class="glass-card p-8 text-center fade-in" style="transition-delay: 150ms;">
                    <i class="fas fa-hard-hat text-5xl gradient-text mb-4"></i>
                    <h3 class="text-2xl font-bold text-white mb-2">圧倒的な現場実装力</h3>
                    <p class="text-gray-400">国際展示から国家規模の放送、インフラ現場まで。多様な現場経験がプロジェクトを成功に導きます。</p>
                </div>
                <div class="glass-card p-8 text-center fade-in" style="transition-delay: 300ms;">
                    <i class="fas fa-network-wired text-5xl gradient-text mb-4"></i>
                    <h3 class="text-2xl font-bold text-white mb-2">強力なネットワーク</h3>
                    <p class="text-gray-400">各分野のプロと連携し、企画から開発、制作、運用まで最適なチームを編成して実現します。</p>
                </div>
            </div>
        </section>

        <!-- Works/実績セクション -->
        <section id="works" class="section bg-gray-900">
            <div class="text-center mb-16 fade-in">
                <h2 class="text-4xl font-bold text-white">SELECTED WORKS</h2>
                <p class="text-sky-400 font-roboto">主要プロジェクトタイムライン</p>
            </div>
            <div class="max-w-3xl mx-auto fade-in">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <p class="text-sm text-gray-400">2024</p>
                    <h3 class="text-xl font-bold text-sky-400">サウジアラビア国際放送中継</h3>
                    <p class="text-gray-300 mt-1">日本側放送技術チーフコーディネーターとして、NHKテクノロジースタッフ100名以上を率い、国家プロジェクトを成功に導く。</p>
                    <div class="mt-2"><span class="tag">放送技術</span><span class="tag">国際プロジェクト</span><span class="tag">マネジメント</span></div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <p class="text-sm text-gray-400">2024</p>
                    <h3 class="text-xl font-bold text-sky-400">FENDI SPY スペシャルムービー</h3>
                    <p class="text-gray-300 mt-1">目黒蓮氏出演のスペシャルムービーにて1st ACを担当。シネマトグラファー領域へ本格進出。</p>
                    <div class="mt-2"><span class="tag">シネマトグラフィー</span><span class="tag">映像制作</span><span class="tag">1st AC</span></div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <p class="text-sm text-gray-400">2020 - 2023</p>
                    <h3 class="text-xl font-bold text-sky-400">産総研技術移転ベンチャーCTO</h3>
                    <p class="text-gray-300 mt-1">画像/音響センシングに関する特許の社会実装をリード。鉄道インフラ向け計測システムを開発・導入。</p>
                    <div class="mt-2"><span class="tag">CTO</span><span class="tag">R&D</span><span class="tag">事業開発</span><span class="tag">センシング技術</span></div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <p class="text-sm text-gray-400">2019 - 現在</p>
                    <h3 class="text-xl font-bold text-sky-400">メディアアート テクニカルディレクション</h3>
                    <p class="text-gray-300 mt-1">落合陽一氏、藤堂高行氏など、日本を代表するアーティストの国内外の展示でテクニカルディレクションを多数担当。</p>
                    <div class="mt-2"><span class="tag">テクニカルディレクション</span><span class="tag">メディアアート</span><span class="tag">インスタレーション</span></div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <p class="text-sm text-gray-400">2017 -</p>
                    <h3 class="text-xl font-bold text-sky-400">Forethumb LLC 設立</h3>
                    <p class="text-gray-300 mt-1">筑波大学在学中に起業。モールス式キーボード開発から始まり、人工衛星開発、VRコンテンツ開発など、常に新しい領域に挑戦。</p>
                    <div class="mt-2"><span class="tag">起業</span><span class="tag">ハードウェア開発</span><span class="tag">プロダクト開発</span></div>
                </div>
            </div>
        </section>

        <!-- スキルセクション -->
        <section id="skills" class="section">
            <div class="text-center mb-12 fade-in">
                <h2 class="text-4xl font-bold text-white">CORE SKILLS</h2>
                <p class="text-sky-400 font-roboto">専門領域と技術スタック</p>
            </div>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="glass-card p-6 fade-in">
                    <h3 class="font-bold text-xl text-white mb-3"><i class="fas fa-magic mr-2 text-sky-400"></i>Creative & Direction</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li>テクニカルディレクション</li>
                        <li>映像監督・撮影 (シネマ/ビデオ)</li>
                        <li>ライブスイッチング</li>
                        <li>プロジェクトマネジメント</li>
                    </ul>
                </div>
                <div class="glass-card p-6 fade-in" style="transition-delay: 150ms;">
                    <h3 class="font-bold text-xl text-white mb-3"><i class="fas fa-microchip mr-2 text-sky-400"></i>Hardware Engineering</h3>
                    <ul class="space-y-2 text-gray-300">
                        <li>回路・基板設計 (KiCad)</li>
                        <li>組込みシステム (Arduino/M5Stack)</li>
                        <li>3Dモデリング & プリンティング</li>
                        <li>無線技術 (1アマ/2陸技)</li>
                    </ul>
                </div>
                <div class="glass-card p-6 fade-in" style="transition-delay: 300ms;">
                    <h3 class="font-bold text-xl text-white mb-3"><i class="fas fa-code mr-2 text-sky-400"></i>Software Development</h3>
                     <ul class="space-y-2 text-gray-300">
                        <li>C++, Python, JavaScript</li>
                        <li>Unity, Unreal Engine</li>
                        <li>画像・音響センシング</li>
                        <li>AIアプリケーション開発</li>
                    </ul>
                </div>
                <div class="glass-card p-6 fade-in" style="transition-delay: 450ms;">
                    <h3 class="font-bold text-xl text-white mb-3"><i class="fas fa-briefcase mr-2 text-sky-400"></i>Business</h3>
                     <ul class="space-y-2 text-gray-300">
                        <li>事業開発</li>
                        <li>CTO/役員経験</li>
                        <li>技術コンサルティング</li>
                        <li>特許戦略・社会実装</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- Contactセクション -->
        <section id="contact" class="section bg-gray-900">
            <div class="text-center max-w-2xl mx-auto fade-in">
                <h2 class="text-4xl font-bold text-white">GET IN TOUCH</h2>
                <p class="text-sky-400 font-roboto mb-8">新しい挑戦を、共に。</p>
                <p class="text-lg text-gray-300 mb-8">
                    「技術とクリエイティブを掛け合わせた、新しい挑戦をしたい」<br>
                    「アイデアはあるが、どう実現すればいいかわからない」<br><br>
                    そんな時は、ぜひお気軽にご相談ください。<br>共に情報メディアの次の可能性を切り拓きましょう。
                </p>
                <a href="mailto:contact@example.com" class="mt-4 inline-block bg-sky-500 text-white font-bold py-4 px-10 rounded-full text-xl hover:bg-sky-600 transition-transform transform hover:scale-105">
                    <i class="fas fa-envelope mr-2"></i> contact@example.com
                </a>
            </div>
        </section>
    </main>

    <footer class="bg-gray-900 py-6">
        <div class="text-center text-gray-500">
            &copy; 2024 Yuki Koyama / Forethumb LLC. All Rights Reserved.
        </div>
    </footer>

    <script>
        // Matrix Rain Effect
        function createMatrixRain() {
            const container = document.getElementById('matrixRain');
            const chars = '01アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲン';
            
            for (let i = 0; i < 50; i++) {
                const column = document.createElement('div');
                column.className = 'matrix-column';
                column.style.left = Math.random() * 100 + '%';
                column.style.animationDuration = (Math.random() * 3 + 2) + 's';
                column.style.animationDelay = Math.random() * 2 + 's';
                
                let text = '';
                for (let j = 0; j < 20; j++) {
                    text += chars[Math.floor(Math.random() * chars.length)] + '<br>';
                }
                column.innerHTML = text;
                container.appendChild(column);
            }
        }

        // Signal Processing Game
        let currentWaveform = 'sine';
        let signalCanvas, signalCtx;
        let animationId;

        function initSignalCanvas() {
            signalCanvas = document.getElementById('signalCanvas');
            signalCtx = signalCanvas.getContext('2d');
            signalCanvas.width = signalCanvas.offsetWidth;
            signalCanvas.height = signalCanvas.offsetHeight;
            drawSignal();
        }

        function drawSignal() {
            signalCtx.clearRect(0, 0, signalCanvas.width, signalCanvas.height);
            signalCtx.strokeStyle = '#38bdf8';
            signalCtx.lineWidth = 2;
            signalCtx.beginPath();

            const amplitude = signalCanvas.height / 4;
            const frequency = 0.02;
            const offset = signalCanvas.height / 2;
            const time = Date.now() * 0.001;

            for (let x = 0; x < signalCanvas.width; x++) {
                let y;
                switch (currentWaveform) {
                    case 'sine':
                        y = Math.sin((x + time * 50) * frequency) * amplitude + offset;
                        break;
                    case 'square':
                        y = (Math.sin((x + time * 50) * frequency) > 0 ? 1 : -1) * amplitude + offset;
                        break;
                    case 'sawtooth':
                        y = (((x + time * 50) * frequency) % (2 * Math.PI) - Math.PI) / Math.PI * amplitude + offset;
                        break;
                }
                
                if (x === 0) signalCtx.moveTo(x, y);
                else signalCtx.lineTo(x, y);
            }
            
            signalCtx.stroke();
            animationId = requestAnimationFrame(drawSignal);
        }

        function changeWaveform(type) {
            currentWaveform = type;
        }

        // Circuit Designer Game
        let circuitCanvas, circuitCtx;
        let components = [];

        function initCircuitCanvas() {
            circuitCanvas = document.getElementById('circuitCanvas');
            circuitCtx = circuitCanvas.getContext('2d');
            circuitCanvas.width = circuitCanvas.offsetWidth;
            circuitCanvas.height = circuitCanvas.offsetHeight;
            drawCircuit();
        }

        function drawCircuit() {
            circuitCtx.clearRect(0, 0, circuitCanvas.width, circuitCanvas.height);
            
            // Draw grid
            circuitCtx.strokeStyle = '#334155';
            circuitCtx.lineWidth = 1;
            for (let x = 0; x < circuitCanvas.width; x += 20) {
                circuitCtx.beginPath();
                circuitCtx.moveTo(x, 0);
                circuitCtx.lineTo(x, circuitCanvas.height);
                circuitCtx.stroke();
            }
            for (let y = 0; y < circuitCanvas.height; y += 20) {
                circuitCtx.beginPath();
                circuitCtx.moveTo(0, y);
                circuitCtx.lineTo(circuitCanvas.width, y);
                circuitCtx.stroke();
            }

            // Draw components
            components.forEach(component => {
                circuitCtx.strokeStyle = '#38bdf8';
                circuitCtx.lineWidth = 3;
                circuitCtx.beginPath();
                
                if (component.type === 'resistor') {
                    // Draw resistor zigzag
                    circuitCtx.moveTo(component.x, component.y);
                    for (let i = 0; i < 6; i++) {
                        circuitCtx.lineTo(component.x + i * 8, component.y + (i % 2 ? -10 : 10));
                    }
                } else if (component.type === 'capacitor') {
                    // Draw capacitor plates
                    circuitCtx.moveTo(component.x, component.y - 15);
                    circuitCtx.lineTo(component.x, component.y + 15);
                    circuitCtx.moveTo(component.x + 10, component.y - 15);
                    circuitCtx.lineTo(component.x + 10, component.y + 15);
                }
                
                circuitCtx.stroke();
            });
        }

        function addComponent(type) {
            const x = Math.random() * (circuitCanvas.width - 50) + 25;
            const y = Math.random() * (circuitCanvas.height - 30) + 15;
            components.push({ type, x, y });
            drawCircuit();
        }

        function clearCircuit() {
            components = [];
            drawCircuit();
        }

        // Visual Effects Playground
        let effectsCanvas, effectsCtx;
        let currentEffect = 'none';
        let effectIntensity = 50;

        function initEffectsCanvas() {
            effectsCanvas = document.getElementById('effectsCanvas');
            effectsCtx = effectsCanvas.getContext('2d');
            effectsCanvas.width = effectsCanvas.offsetWidth;
            effectsCanvas.height = effectsCanvas.offsetHeight;
            drawEffects();
        }

        function drawEffects() {
            effectsCtx.clearRect(0, 0, effectsCanvas.width, effectsCanvas.height);
            
            // Base pattern
            const gradient = effectsCtx.createLinearGradient(0, 0, effectsCanvas.width, effectsCanvas.height);
            gradient.addColorStop(0, '#1e40af');
            gradient.addColorStop(0.5, '#7c3aed');
            gradient.addColorStop(1, '#1e40af');
            effectsCtx.fillStyle = gradient;
            effectsCtx.fillRect(0, 0, effectsCanvas.width, effectsCanvas.height);

            // Apply effects
            const intensity = effectIntensity / 100;
            
            switch (currentEffect) {
                case 'glitch':
                    applyGlitchEffect(intensity);
                    break;
                case 'chromatic':
                    applyChromaticEffect(intensity);
                    break;
                case 'noise':
                    applyNoiseEffect(intensity);
                    break;
                case 'scan':
                    applyScanLinesEffect(intensity);
                    break;
            }
            
            requestAnimationFrame(drawEffects);
        }

        function applyGlitchEffect(intensity) {
            const imageData = effectsCtx.getImageData(0, 0, effectsCanvas.width, effectsCanvas.height);
            const data = imageData.data;
            
            for (let i = 0; i < data.length; i += 4) {
                if (Math.random() < intensity * 0.1) {
                    data[i] = Math.random() * 255;     // Red
                    data[i + 1] = Math.random() * 255; // Green
                    data[i + 2] = Math.random() * 255; // Blue
                }
            }
            
            effectsCtx.putImageData(imageData, 0, 0);
        }

        function applyChromaticEffect(intensity) {
            effectsCtx.globalCompositeOperation = 'screen';
            effectsCtx.fillStyle = `rgba(255, 0, 0, ${intensity * 0.3})`;
            effectsCtx.fillRect(2, 0, effectsCanvas.width, effectsCanvas.height);
            effectsCtx.fillStyle = `rgba(0, 255, 0, ${intensity * 0.3})`;
            effectsCtx.fillRect(-2, 0, effectsCanvas.width, effectsCanvas.height);
            effectsCtx.globalCompositeOperation = 'source-over';
        }

        function applyNoiseEffect(intensity) {
            const imageData = effectsCtx.getImageData(0, 0, effectsCanvas.width, effectsCanvas.height);
            const data = imageData.data;
            
            for (let i = 0; i < data.length; i += 4) {
                const noise = (Math.random() - 0.5) * intensity * 100;
                data[i] += noise;     // Red
                data[i + 1] += noise; // Green
                data[i + 2] += noise; // Blue
            }
            
            effectsCtx.putImageData(imageData, 0, 0);
        }

        function applyScanLinesEffect(intensity) {
            effectsCtx.strokeStyle = `rgba(0, 0, 0, ${intensity * 0.5})`;
            effectsCtx.lineWidth = 1;
            for (let y = 0; y < effectsCanvas.height; y += 4) {
                effectsCtx.beginPath();
                effectsCtx.moveTo(0, y);
                effectsCtx.lineTo(effectsCanvas.width, y);
                effectsCtx.stroke();
            }
        }

        function applyEffect(effect) {
            currentEffect = effect;
        }

        function resetEffects() {
            currentEffect = 'none';
        }

        function updateEffectIntensity(value) {
            effectIntensity = value;
            document.getElementById('intensityValue').textContent = value + '%';
        }

        // Initialize everything
        document.addEventListener('DOMContentLoaded', function() {
            createMatrixRain();
            
            // Initialize canvases when they become visible
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        if (entry.target.id === 'signalCanvas') {
                            initSignalCanvas();
                        } else if (entry.target.id === 'circuitCanvas') {
                            initCircuitCanvas();
                        } else if (entry.target.id === 'effectsCanvas') {
                            initEffectsCanvas();
                        }
                    }
                });
            });

            observer.observe(document.getElementById('signalCanvas'));
            observer.observe(document.getElementById('circuitCanvas'));
            observer.observe(document.getElementById('effectsCanvas'));
        });

        // Existing scroll animations
        const faders = document.querySelectorAll('.fade-in');
        const appearOptions = {
            threshold: 0.2,
            rootMargin: "0px 0px -50px 0px"
        };

        const appearOnScroll = new IntersectionObserver(function(entries, appearOnScroll) {
            entries.forEach(entry => {
                if (!entry.isIntersecting) {
                    return;
                } else {
                    entry.target.classList.add('visible');
                    appearOnScroll.unobserve(entry.target);
                }
            });
        }, appearOptions);

        faders.forEach(fader => {
            appearOnScroll.observe(fader);
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>

</body>
</html>